@{
    Layout = "~/Areas/Generate/Views/Generate/Input.cshtml";
}

<div class="row">
    <div class="col-md-12 form-group">
        <label>待處理資料</label>
        <textarea class="form-control" name="InputData" rows="10"></textarea>
    </div>
    <div class="col-md-12 form-group">
        <label>分割資料行的符號</label>
        <div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="InputRowSeparatorOptions" id="InputRowSeparatorOptions1" value="1" checked>
                <label class="form-check-label" for="InputRowSeparatorOptions1">換行 (\n)</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="InputRowSeparatorOptions" id="InputRowSeparatorOptions2" value="2">
                <label class="form-check-label" for="InputRowSeparatorOptions2">縮排 (\t)</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="InputRowSeparatorOptions" id="InputRowSeparatorOptions0" value="0">
                <label class="form-check-label" for="InputRowSeparatorOptions0">自訂</label>
            </div>
        </div>
        <input type="text" class="form-control" name="InputRowSeparator" />
    </div>
    <div class="col-md-12 form-group">
        <label>分割參數的符號</label>
        <div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="InputRowParameterSeparatorOptions" id="InputRowParameterSeparatorOptions1" value="1">
                <label class="form-check-label" for="InputRowParameterSeparatorOptions1">換行 (\n)</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="InputRowParameterSeparatorOptions" id="InputRowParameterSeparatorOptions2" value="2">
                <label class="form-check-label" for="InputRowParameterSeparatorOptions2">縮排 (\t)</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="InputRowParameterSeparatorOptions" id="InputRowParameterSeparatorOptions0" value="0" checked>
                <label class="form-check-label" for="InputRowParameterSeparatorOptions0">自訂</label>
            </div>
        </div>
        <input type="text" class="form-control" name="InputRowParameterSeparator" value=" " />
    </div>
    <div class="col-md-12 form-group">
        <label>轉置方式</label>
        <div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="InputRowParameterSeparatorOptions" id="InputRowParameterSeparatorOptions1" value="H" checked>
                <label class="form-check-label" for="InputRowParameterSeparatorOptions1">水平轉置</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="InputRowParameterSeparatorOptions" id="InputRowParameterSeparatorOptions2" value="V">
                <label class="form-check-label" for="InputRowParameterSeparatorOptions2">垂直轉置</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="InputRowParameterSeparatorOptions" id="InputRowParameterSeparatorOptions0" value="X">
                <label class="form-check-label" for="InputRowParameterSeparatorOptions0">水平垂直轉置</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="InputRowParameterSeparatorOptions" id="InputRowParameterSeparatorOptions0" value="Right">
                <label class="form-check-label" for="InputRowParameterSeparatorOptions0">向右旋轉</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="InputRowParameterSeparatorOptions" id="InputRowParameterSeparatorOptions0" value="Left">
                <label class="form-check-label" for="InputRowParameterSeparatorOptions0">向左旋轉</label>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    var inputRowSeparator;
    var inputRowParameterSeparator;
    var outputSeparator;

    $(function () {
        $("[name='InputRowSeparatorOptions']").on("change", function () {
            var inputRowSeparatorOptionValue = $("[name='InputRowSeparatorOptions']:checked").val();
            if (inputRowSeparatorOptionValue == "0") {
                inputRowSeparator = "";
            }
            if (inputRowSeparatorOptionValue == "1") {
                inputRowSeparator = "\n";
            }
            if (inputRowSeparatorOptionValue == "2") {
                inputRowSeparator = "\t";
            }
            $("[name='InputRowSeparator']").prop("readonly", inputRowSeparatorOptionValue != "0");
        }).trigger("change");
        $("[name='InputRowParameterSeparatorOptions']").on("change", function () {
            var inputRowParameterSeparatorOptionValue = $("[name='InputRowParameterSeparatorOptions']:checked").val();
            if (inputRowParameterSeparatorOptionValue == "0") {
                inputRowParameterSeparator = "";
            }
            if (inputRowParameterSeparatorOptionValue == "1") {
                inputRowParameterSeparator = "\n";
            }
            if (inputRowParameterSeparatorOptionValue == "2") {
                inputRowParameterSeparator = "\t";
            }
            $("[name='InputRowParameterSeparator']").prop("readonly", inputRowParameterSeparatorOptionValue != "0");
        }).trigger("change");
        $("[name='OutputSeparatorOptions']").on("change", function () {
            var outputSeparatorOptionValue = $("[name='OutputSeparatorOptions']:checked").val();
            if (outputSeparatorOptionValue == "0") {
                outputSeparator = "";
            }
            if (outputSeparatorOptionValue == "1") {
                outputSeparator = "\n";
            }
            if (outputSeparatorOptionValue == "2") {
                outputSeparator = "\t";
            }
            $("[name='OutputSeparator']").prop("readonly", outputSeparatorOptionValue != "0");
        }).trigger("change");
    });

    function overrideGetRequestAsync(callback) {
        defaultGetRequestAsync(function (request) {
            var inputRowSeparatorOptionValue = $("[name='InputRowSeparatorOptions']:checked").val();
            var inputRowParameterSeparatorOptionValue = $("[name='InputRowParameterSeparatorOptions']:checked").val();
            var outputSeparatorOptionValue = $("[name='OutputSeparatorOptions']:checked").val();
            for (var i in request) {
                if (request[i].name == "InputRowSeparator" && inputRowSeparatorOptionValue != "0") {
                    request[i].value = inputRowSeparator;
                }
                if (request[i].name == "InputRowParameterSeparator" && inputRowParameterSeparatorOptionValue != "0") {
                    request[i].value = inputRowParameterSeparator;
                }
                if (request[i].name == "OutputSeparator" && outputSeparatorOptionValue != "0") {
                    request[i].value = outputSeparator;
                }
            }
            callback(request);
        });
    }
</script>